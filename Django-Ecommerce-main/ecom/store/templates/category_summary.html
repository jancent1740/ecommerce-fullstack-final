{% extends 'base.html' %}
{% load static %}

{% block content %}

<!-- ================= HERO ================= -->
<header class="honkai-hero">
    <div class="hero-bg"></div>
    <div class="hero-grid"></div>

    <div class="container px-4 px-lg-5 h-100 hero-content">
        <div class="text-center text-white">
            <div class="hero-tag">
                <i class="bi bi-grid-fill"></i> Weapon Categories
            </div>

            <h1 class="hero-title">DIVINE KEYS</h1>

            <p class="hero-subtitle">Choose your weapon category below</p>
        </div>
    </div>
</header>

<!-- ================= CATEGORY CARDS ================= -->
<section class="py-5 bg-dark">
    <div class="container px-4 px-lg-5 mt-5">
        <div class="row gx-4 gx-lg-5 row-cols-1 row-cols-md-2 row-cols-lg-3 justify-content-center">

            {% for category in categories %}
            <div class="col mb-4"> <!-- added col wrapper and margin-bottom -->
                <div class="category-card">

                    <div class="category-bg"
                         style="background:
                                linear-gradient(rgba(11,15,26,0.45), rgba(11,15,26,0.45)),
                                url('{% static 'assets/categories/' %}{{ category.img }}') center/cover no-repeat;">
                    </div>

                    <div class="category-overlay d-flex flex-column justify-content-center align-items-center">
                        <h3 class="category-name text-white">{{ category.name }}</h3>
                        <!-- USE HOMEPAGE BUTTON STYLE -->
                        <a href="{% url 'category' category.name %}" class="homepage-btn mt-3">
                            <i class="bi bi-eye-fill"></i> Enter
                        </a>
                    </div>

                </div>
            </div>
            {% endfor %}

        </div>
    </div>
</section>

<style>
/* HERO */
.honkai-hero { position: relative; height: 320px; overflow: hidden; background:#0b0f1a; }
.honkai-hero .hero-bg {
    position:absolute; inset:0;
    background: linear-gradient(rgba(11,15,26,0.85), rgba(11,15,26,0.95)),
                url("{% static 'assets/Background.jpg' %}") center/cover no-repeat;
    z-index:0;
}
.honkai-hero .hero-grid {
    position:absolute; inset:0;
    background-image:
        linear-gradient(rgba(93,169,233,0.06) 1px, transparent 1px),
        linear-gradient(90deg, rgba(93,169,233,0.06) 1px, transparent 1px);
    background-size: 60px 60px;
    z-index:1;
}
.honkai-hero .hero-content { position:relative; z-index:2; height:100%; display:flex; align-items:center; justify-content:center; }
.hero-tag { display:inline-block; padding:8px 16px; color:#5da9e9; border-radius:24px; border:1px solid rgba(93,169,233,0.28); background: rgba(93,169,233,0.06); font-weight:700; }
.hero-title { font-size:2.8rem; font-weight:900; color:#fff; text-shadow:0 0 20px rgba(93,169,233,0.8); }
.hero-subtitle { color: rgba(255,255,255,0.8); margin-top:6px; }

/* CATEGORY CARD */
.category-card {
    position: relative;
    height: 240px;
    min-height: 200px;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 8px 30px rgba(0,0,0,0.35);
    transition: transform 0.35s ease, box-shadow 0.35s ease;
    cursor: pointer;
    background: linear-gradient(135deg, rgba(25,25,35,0.6), rgba(20,20,28,0.6));
}
.category-card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 20px 60px rgba(0,0,0,0.55);
}
.category-bg {
    position: absolute; inset: 0;
    background-size: cover; background-position: center;
    filter: brightness(0.55);
    transition: transform 0.6s ease, filter 0.3s ease;
}
.category-card:hover .category-bg { transform: scale(1.08); filter: brightness(0.5); }
.category-overlay {
    position: absolute; inset: 0; z-index: 2;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    padding: 12px; text-align: center;
    background: linear-gradient(rgba(0,0,0,0.22), rgba(0,0,0,0.35));
    transition: background 0.25s ease;
}
.category-card:hover .category-overlay { background: linear-gradient(rgba(0,0,0,0.28), rgba(0,0,0,0.46)); }
.category-name { font-size: 1.6rem; font-weight: 900; color: #fff; letter-spacing: 0.6px; text-shadow: 0 2px 14px rgba(0,0,0,0.7); }

/* HOMEPAGE-STYLE BUTTON */
.homepage-btn {
    border: 2px solid #0ff; /* neon blue-green border */
    color: #0ff;
    background: transparent;
    padding: 10px 20px;
    border-radius: 12px;
    font-weight: 700;
    text-decoration: none;
    transition: all 0.3s ease;
}
.homepage-btn:hover {
    color: black;
    background: #0ff;
    box-shadow: 0 0 12px #0ff, 0 0 24px #0ff inset;
    transform: translateY(-2px);
}

/* responsive */
@media (max-width: 768px) {
    .hero-title { font-size: 1.9rem; }
    .category-card { height: 200px; }
    .category-name { font-size: 1.3rem; }
    .homepage-btn { padding: 8px 16px; }
}
</style>

{% endblock %}
